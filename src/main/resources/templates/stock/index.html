<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body}, 'stock')}">

<body>

<div class="center-page">
    <form th:replace="~{stock/location/index :: location}"></form>


    <form class="form-control data-container" th:hx-post="@{/stock/search}"
          hx-target="#results.stock"
          hx-swap="outerHTML"
          hx-trigger="load">

        <div class="data-container-header">
            <h2>Stocks</h2>
        </div>

        <div class="data-search">
            <label>
                <input type="search" name="query" placeholder="Search"
                       th:hx-post="@{/stock/search}"
                       hx-trigger="input[name='query'] changed delay:500ms, search">
            </label>
        </div>

        <div th:insert="~{stock/search :: table }" id="results" class="stock"></div>

    </form>
</div>

</body>

</html>